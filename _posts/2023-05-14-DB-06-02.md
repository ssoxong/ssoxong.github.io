---
title: "DB 06장 - 02"
excerpt: "DB post"

categories:
    - Study
tags:
  - [Data Base]

toc: true
toc_sticky: true
 
date: 2023-05-14
last_modified_at: 2023-05-14
---

# 6.4 Authorization
권한
1. instance - read, insert, update, elete
2. schema - index(create, delete), resource(create new relation), alteration, drop

### SQL 권한
- select
- insert
- update
- delete
- reference -> foreign key 참조하는 사람만 해당 key 참조 가능
- usage - 도메인 쓸 수 있는 권한
- all privillage..

#### Grant - 권한 부여
```sql
Grant <privilege list> on <relation name or view name> to <user list> [with grant option]
```
--> [with grant option] 이용시 권한 부여받은 사람이 다시 권한 부여할 수 있음

ex.
```sql
Grant select on professor to U1, U2, U3;
//U1, U2, U3에게 professor table select 할 수 있는 권한

Grant references (deptname) on department to Lee;
//Lee에게 department의 deptname을 참조할 수 있는 권한 부여
```

### Revoke - 권한 취소
```sql
Revoke <privilege list> on <relation name or view name> from <user list> [restrict|cascade];
```

- privilege list -> all 표현 가능
- 권한 두 번 부여시 하나 취소되도 계속 사용 가능

option
- cascade (default) -> 취소당하는 user가 같은 권한을 다른 user에게 부여했다면 해당 유저도 권한 취소됨 (전파)
- restrict -> 전파되어야 하는 상황에서 권한 취소시 해당 revoke 제한함 (fail) //side effect 방지

revoke list
- public -> 모든 사람에게 권한 한번씩 취소 (권한 중복으로 받은 사람은 여전히 권한 유지)
- grant option
    해당 relation에서만 권한 취소

### Authorization Graph
권한 부여한 그래프..
![DB06-05](https://github.com/ssoxong/ssoxong.github.io/assets/112956015/5ba1376b-e561-40b2-bcd1-36a3fbcdf793)