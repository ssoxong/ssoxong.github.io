---
title: "Network Programming - Socket"
excerpt: "NP post"

categories:
    - NetworkProgramming
tags:
  - [Network, Programming, Socket]

toc: true
toc_sticky: true
 
date: 2023-06-01
last_modified_at: 2023-06-01
---

## Socket
네트워크의 연결 도구
- Socket API
    서로 다른/같은 호스트 상에서 실행되는 두개 이상의 프로세스들이 컴퓨터 네트워크를 사용하여 통신하기 위해 제공되는 도구

- 소켓과 입출력
    파일 디스크립터를 이용해 소켓 입출력 가능
    소켓 외의 입출력 - stdin/out, file, terminal...

- 파일 디스크립터
    열린 파일들을 식별하기 위한 정보 (int)

- 기본 입출력 함수
    1. open
        ```
        open(path, oflag)
        ```
        - oflag
            O_RDONLY, O_APPEND, O_CREATE, O_TRUNC.. 등

    2. read
        ```
        read(fd, buf, count)
        ```
        fd에서 count만큼 buf에 읽는다

    3. write
        ```
        write(fd, buf, size)
        ```
        fd에서 size만큼 buf에 쓴다

    4. close
        ```
        close(fd)
        ```
        열려있는 fd 닫기

**실습 01:io-syscall.c**

```
socket(int domain, type, protocol)
// 프로토콜 체계(IPv4/6), 전송방식 (SOCK_STREAM / SOCK_DGRAM), 프로토콜(IPPROTO_TCP/UDP)
```

**실습 02: socket-syscall.c**

## 통신 프로토콜
pid - 프로세스 식별할 수 있지만 Host 내에서만 가능함
port - 서로다른 호스트 사이에서 프로세스 식별, app과 전송 계층 사이에 존재

## 프로토콜 체계
PF_INET - Progocol Familly
AF_INET - Address Familly

PF_INET = AF_INET //ipv4
PF_INET6 = AF_INET6 //ipv6

--> 요즘에는 동일하게 사용하는중..