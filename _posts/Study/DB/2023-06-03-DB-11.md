---
title: "DB 11장"
excerpt: "Data Base post"

categories:
    - DB
tags:
  - [Data Base]

toc: true
toc_sticky: true

---

# 11. Database Design theory

## 11.1 Good Schema and Bad Schema
나쁜 스키마 - 이미 존재하는 테이블을 합쳐놓은 형태..
### anomalies
- Update
- Delete
- Insert

### 예시

![image](https://github.com/ssoxong/ssoxong.github.io/assets/112956015/04656ffb-ffaa-4de7-8dd8-35e7fe76b14f)

- Update
학과장 바뀌면 3개의 튜플을 업데이트 해야함

- Delete
CS의 전체 과목이 없어지면 CS과에 대한 학과장, 예산 정보가 다 날라감  
(CS과는 존재함에도 불구하고..)  

- Insert
신생 과 AI 생겼을 때, 그 과의 과목을 개설하여 cID를 얻을 때까지 테이블에 insert하지 못한다.  
-> primary key가 없기 때문이다.


### Design Goal
스키마 주어지면 좋은 형태인지 아닌지 판단한다.  
만약 나쁜 형태면 스키마 분해해서 각각 좋은 형태로 다시 테이블 생성  
- functional dependency
- multivalued dependency
로 하기

#### functuinal dependency
함수 종속성  
$$\alpha -> \beta$$
알파가 동일하면 베타도 동일해야 한다.  

![image](https://github.com/ssoxong/ssoxong.github.io/assets/112956015/e3b9fc95-5a59-4c5b-9672-6d6f374f414c)

1-2 성립
2-3 성립 (알파가 다르니까 베타는 뭐가 나와도 상관없음)
3-4 성립

하지만 
$$\beta -> \alpha$$
성립하지 않는다.

- FD and keys
알파가 모든 컬럼을 결정하는 경우에 알파는 슈퍼키이다. (알파->R)  

만약 베타가 알파에 포함되지 않고, 베타 -> R이면 알파는 후보키이다  

## 11.2 Functional Dependency Theory
주어지는 함수 종속성으로부터 새로운 함수 종속성을 imply하도록 추론할 수 있다.

### Trivial Functional Dependency
함수 종속성이 테이블의 모든 instatnce에 만족하는 것.  
$$\alpha -> \beta\qquad \beta\in\alpha$$
알파가 베타를 결정하고, 알파가 베타를 포함한다  

### Closure of a Set of Functional Dependency
주어진 함수 종속성으로부터 유추해서 다른거 만들어내기  
기존 것에서 새로운 것 derive하기  

- Armstrong's Axioms
1. reflexivity
    알파가 베타보다 크면 알파가 베타를 결정한다
2. augmentation
    알파가 베타를 결정하면 알파/베타에 속성 첨가해도 동일하다.
3. transitivity
    알파가 베타를 결정하고, 베타가 감마를 결정하면 알파도 감마를 결정한다.

## Normal Forms

## Decomposition and Design

## Multivalued Dependencies